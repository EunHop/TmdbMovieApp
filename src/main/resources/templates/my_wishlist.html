<!DOCTYPE html>
<html lang="ko"
      xmlns:th="https://www.thymeleaf.org"
>
<link rel="stylesheet" type="text/css" href="/css/my_wishlist.css">
<head th:insert="~{fragments.html::header}">
  <title>EunHop Movie App</title>
</head>
<body>
<script src="/js/details.js" defer></script>
<header th:insert="~{fragments.html::nav}"></header>
<div class="container">
  <div class="wishlist_first">
    <div class="wishlist_second">
        <div class="media_wrapper">
          <a th:if="${media == 'movie'}" class="selected" th:href="@{/my_wishlist/movie}">영화</a>
          <a th:unless="${media == 'movie'}" class="not_selected" th:href="@{/my_wishlist/movie}">영화</a>
          <a th:if="${media == 'tv'}" class="selected" th:href="@{/my_wishlist/tv}">TV 프로그램</a>
          <a th:unless="${media == 'tv'}" class="not_selected" th:href="@{/my_wishlist/tv}">TV 프로그램</a>
        </div>
      <div class="wishlist">
        <div class="wish_start_wrapper" th:each="wish : ${wishList}">
          <div class="wish_start" th:if="${wish.video.media_type == media}">
            <a class="wish_start_a" th:href="@{/details/{media_type}/{id}(media_type=${wish.video.media_type},id=${wish.video.id})}">
              <img class="wish_img" th:src="'https://image.tmdb.org/t/p/w342'+${wish.video.poster_path}" alt="poster">
            </a>
            <div class="wish_info">
              <a th:href="@{/details/{media_type}/{id}(media_type=${wish.video.media_type},id=${wish.video.id})}">
              <p class="wish_title" th:text="${wish.video.title}"></p>
              </a>
              <div class="wish_score_wrapper">
                <span th:text="${wish.video.release_date}"></span>
                <img class="wish_tmdb_logo" src="/images/tmdb_logo.png" alt="tmdb_logo">
                <span class="wish_score" th:text="${wish.video.score}+'%'"></span>
              </div>
              <p class="wish_tagline" th:text="${wish.video.tagline}"></p>
              <form method="post" th:action="@{/my_wishlist/{media}/wish(media=${media})}">
                <input type="hidden" name="id" th:value="${wish.video.id}">
                  <button class="wish_submit" type="submit">
                    <div class="wish_btn_wrapper">
                      <span class="wish_icon">favorite</span>
                      <span>관심</span>
                    </div>
                  </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
<footer th:insert="~{fragments.html::footer}"></footer>
</body>
</html>